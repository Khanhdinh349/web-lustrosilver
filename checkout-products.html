<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Check Out</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" type="text/css" href="css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="images/fevicon.png" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <!-- fonts -->
      <link href="https://fonts.googleapis.com/css?family=Great+Vibes|Open+Sans:400,700&display=swap&subset=latin-ext" rel="stylesheet">
      <!-- owl stylesheets --> 
      <link rel="stylesheet" href="css/owl.carousel.min.css">
      <link rel="stylesheet" href="css/owl.theme.default.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
      <style>
         .checkout-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
         }
         .checkout-item img {
            width: 100px;
            height: 100px;
            margin-right: 20px;
         }
         .checkout-item div {
            margin-right: 20px;
         }
         .quantity-controls {
            display: flex;
            align-items: center;
         }
         .quantity-controls button {
            margin: 0 5px;
            font-size: 16px;
         }
         .order-summary {
            margin-top: 20px;
            border-top: 1px solid #ccc;
            padding-top: 10px;
         }
         .order-summary div {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
         }
      </style>
   </head>
   <body>
      <!-- header section start -->
      <div class="header_section">
         <div class="container-fluid">
            <nav class="navbar navbar-light bg-light justify-content-between">
               <div id="mySidenav" class="sidenav">
                  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
                  <a href="index.html">Home</a>
                  <a href="products.html">Jewelry</a>
                      <a href="ring.html">Ring</a>
                      <a href="bracelet.html">Bracelet</a>
                      <a href="earring.html">Earring</a>
                      <a href="necklace.html">Necklace</a>
                      <a href="anklet.html">Anklet</a>
                  <a href="about.html">About</a>
                  <a href="client.html">Client</a>
                  <a href="contact.html">Contact</a>
              </div>
               <span class="toggle_icon" onclick="openNav()"><img src="images/toggle-icon.png"></span>
               <a class="logo" href="index.html"><img src="images/logo.png"></a></a>
               <form class="form-inline" id="searchForm">
                <div class="login_text">
                   <ul>
                      <li><a href="#"><img src="images/user-icon.png"></a></li>
                      <li>
                         <a href="#" onclick="toggleCartNavbar()" style="position: relative;">
                            <img alt="cart" loading="lazy" width="18" height="18" decoding="async" data-nimg="1" src="https://cdn.pnj.io/images/image-update/layout/icon-cart-new.svg" style="color: transparent;">
                            <span id="cartCount" style="position: absolute; bottom: -5px; right: -5px; background-color: red; color: white; border-radius: 50%; padding: 1px 4px; font-size: 8px;">0</span>
                         </a>
                      </li>
                      <li>
                         <button onclick="toggleSearch()">
                            <img src="images/search-icon.png">
                         </button>
                         <input type="text" style="display: none;" id="searchInput" placeholder="Search" aria-label="Search">
                      </li>
                   </ul>
                </div>
             </form>
            </nav>
         </div>
      </div>
      <!-- header section end -->
      <!-- about section start -->
        
      <div class="container mt-4 p-0">
         <div class="row px-md-4 px-2 pt-4">
            <div class="col-lg-8">
               <h3 class="pb-2 fw-bold">Order</h3>
               <div class="card">
                  <!-- <div class="ribbon ribbon-top-right"><span>SALE TIME!</span></div> -->
                  <div>
                     <div class="table-responsive px-md-4 px-2 pt-3">
                        <table class="table table-borderless">
                           <tbody id="checkoutItems">
                              <!-- Items will be dynamically inserted here -->
                           </tbody>
                        </table>
                     </div>
                  </div>
               </div>
               <!-- New section for customer details -->
               <div class="card mt-4">
                  <div class="card-body">
                     <h4 class="fw-bold">Customer Details</h4>
                     <form id="customerDetailsForm">
                        <div class="mb-3">
                           <label for="customerName" class="form-label">Name</label>
                           <input type="text" class="form-control" id="customerName" placeholder="Enter your name" required>
                        </div>
                        <div class="mb-3">
                           <label for="customerEmail" class="form-label">Email</label>
                           <input type="email" class="form-control" id="customerEmail" placeholder="Enter your email" required>
                        </div>
                        <div class="mb-3">
                           <label for="customerPhone" class="form-label">Phone Number</label>
                           <input type="tel" class="form-control" id="customerPhone" placeholder="Enter your phone number" required>
                        </div>
                        <div class="mb-3">
                           <label for="customerGender" class="form-label">Gender</label>
                           <select class="form-control" id="customerGender" required>
                              <option value="">Select Gender</option>
                              <option value="male">Male</option>
                              <option value="female">Female</option>
                              <option value="other">Other</option>
                           </select>
                        </div>
                        <div class="mb-3">
                           <label for="customerDOB" class="form-label">Date of Birth</label>
                           <input type="date" class="form-control" id="customerDOB" required>
                        </div>
                        <div class="mb-3">
                           <label for="shippingAddress" class="form-label">Shipping Address</label>
                           <textarea class="form-control" id="shippingAddress" rows="3" placeholder="Enter your shipping address" required></textarea>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="col-lg-4 payment-summary">
               <h3 class="fw-bold pt-lg-0 pt-4 pb-2">Payment Summary</h3>
               <div class="card px-md-3 px-2 pt-4">
                  <div class="d-flex justify-content-between b-bottom"> <input type="text" class="ps-2" placeholder="COUPON CODE">
                     <div class="btn btn-primary">Apply</div>
                  </div>
                  <div class="d-flex flex-column b-bottom">
                     <div class="d-flex justify-content-between py-3"> <small class="text-muted">Order Summary</small>
                        <p id="orderSummary">Items: 0</p>
                     </div>
                     <div class="d-flex justify-content-between pb-3"> <small class="text-muted">Additional Service</small>
                        <p id="additionalService">$0</p>
                     </div>
                     <div class="d-flex justify-content-between"> <small class="text-muted">Total Amount</small>
                        <p id="totalAmount">$0</p>
                     </div>
                  </div>
                  <!-- Payment Methods -->
                  <div class="mt-4">
                     <h4 class="fw-bold">Payment Methods</h4>
                     <ul class="list-unstyled">
                        <li><input type="radio" name="paymentMethod" value="cod" required> Thanh toán tiền mặt khi nhận hàng (COD)</li>
                        <li><input type="radio" name="paymentMethod" value="bankTransfer"> Thanh toán chuyển khoản</li>
                        <li><input type="radio" name="paymentMethod" value="internationalCard"> Thanh toán thẻ quốc tế (VISA, Master, JCB)</li>
                        <li><input type="radio" name="paymentMethod" value="installment"> Trả góp thẻ tín dụng 0%</li>
                        <li><input type="radio" name="paymentMethod" value="vnpay"> Thanh toán VNPAY</li>
                        <li><input type="radio" name="paymentMethod" value="momo"> Thanh toán bằng ví MoMo</li>
                        <li><input type="radio" name="paymentMethod" value="qr"> Quét mã QR</li>
                        <li><input type="radio" name="paymentMethod" value="zalopay"> Thanh toán Zalopay - QR đa năng</li>
                     </ul>
                  </div>
                  <!-- Pay Now Button -->
                  <div class="mt-4 text-center">
                     <button class="btn btn-success" onclick="placeOrder()">Pay Now</button>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <script>
         document.addEventListener('DOMContentLoaded', function() {
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const checkoutItems = document.getElementById('checkoutItems');
            let totalQuantity = 0;
            let totalPrice = 0;

            cartItems.forEach((product, index) => {
               const itemElement = document.createElement('div');
               itemElement.className = 'checkout-item';
               itemElement.innerHTML = `
                  <img src="${product.image}" alt="${product.name}">
                  <div>${product.name}</div>
                  <div class="quantity-controls">
                     <button onclick="changeQuantity(${index}, -1)">-</button>
                     <span id="quantity-${index}">${product.quantity}</span>
                     <button onclick="changeQuantity(${index}, 1)">+</button>
                  </div>
                  <div id="price-${index}">$${product.price * product.quantity}</div>
               `;
               checkoutItems.appendChild(itemElement);

               totalQuantity += product.quantity;
               totalPrice += product.price * product.quantity;
            });

            updateOrderSummary(totalQuantity, totalPrice);
         });

         function changeQuantity(index, delta) {
            const cartItems = JSON.parse(localStorage.getItem('cartItems'));
            const quantityElement = document.getElementById(`quantity-${index}`);
            let quantity = parseInt(quantityElement.textContent);
            quantity += delta;
            if (quantity < 1) quantity = 1; // Ensure quantity doesn't go below 1
            quantityElement.textContent = quantity;

            // Update the stored product quantity
            cartItems[index].quantity = quantity;
            localStorage.setItem('cartItems', JSON.stringify(cartItems));

            // Update price and order summary
            const priceElement = document.getElementById(`price-${index}`);
            priceElement.textContent = `$${cartItems[index].price * cartItems[index].quantity}`;
            updateOrderSummary();
         }

         function updateOrderSummary() {
            const cartItems = JSON.parse(localStorage.getItem('cartItems'));
            let totalQuantity = 0;
            let totalPrice = 0;

            cartItems.forEach(item => {
               totalQuantity += item.quantity;
               totalPrice += item.price * item.quantity;
            });

            const orderSummaryElement = document.getElementById('orderSummary');
            const totalAmountElement = document.getElementById('totalAmount');
            orderSummaryElement.textContent = `Items: ${totalQuantity}`;
            totalAmountElement.textContent = `$${totalPrice}`;
         }
      </script>
      
    
   <!-- contact section end -->
   <!-- footer section start -->
   <div class="footer_section layout_padding">
      <div class="container">
         <div class="footer_logo"><a href="index.html"><img src="./images/logo.png" style="width: 250px;"></a></div>
         <div class="row">
            <div class="col-md-3">
               <h3 class="footer_heading">VỀ LUSTRO SILVER</h3>
               <ul class="footer_links">
                  <li><a href="./about.html">Câu chuyện Lustro</a></li>
                  
               </ul>
            </div>
            <div class="col-md-3">
               <h3 class="footer_heading">DỊCH VỤ KHÁCH HÀNG</h3>
               <ul class="footer_links">
                  <li><a href="./dosize.html">Hướng dẫn đo size trang sức</a></li>
                  <li><a href="./tragop.html">Mua hàng trả góp</a></li>
                  <li><a href="./buy-pay.html">Hướng dẫn mua hàng và thanh toán</a></li>
                  <li><a href="./chinhsach.html">Chính sách bảo hành</a></li>
                  <li><a href="./question.html">Câu hỏi thường gặp</a></li>
               </ul>
            </div>
            <div class="col-md-3">
               <h3 class="footer_heading">TỔNG HỢP CHÍNH SÁCH</h3>
               <ul class="footer_links">
                  <li><a href="./chinhsach.html">Chính sách hoàn tiền</a></li>
                  <li><a href="./chinhsach.html">Chính sách đổi hàng</a></li>
                  <li><a href="./chinhsach.html">Chính sách bảo hành thu đổi</a></li>
                  <li><a href="./chinhsach.html">Chính sách khách hàng thân thiết</a></li>
                  <li><a href="./chinhsach.html">Chính sách bảo mật thông tin khách hàng</a></li>
                  <li><a href="./chinhsach.html">Chính sách xử lý dữ liệu cá nhân</a></li>
               </ul>
            </div>
            <div class="col-md-3">
               <h3 class="footer_heading">KẾT NỐI VỚI CHÚNG TÔI</h3>
               <div class="social_media_icons">
                  <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                  <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                  <a href="#"><i class="fa fa-youtube" aria-hidden="true"></i></a>
                  <a href="#"><i class="fa fa-envelope" aria-hidden="true"></i></a>
               </div>
               
               <h3 class="footer_heading mt-4">QUAN TÂM ZALO CỦA LUSTRO</h3>
               <div class="zalo_subscription">
                  <p>Nhận các thông tin khuyến mãi hấp dẫn</p>
                  <a href="#" class="zalo_btn">Quan tâm</a>
               </div>
            </div>
         </div>
         
         <div class="payment_methods mt-4">
            <h3 class="footer_heading">PHƯƠNG THỨC THANH TOÁN</h3>
            <ul class="payment_methods_list">
               <li>Thanh toán tiền mặt khi nhận hàng (COD)</li>
               <li>Thanh toán chuyển khoản</li>
               <li>Thanh toán thẻ quốc tế (VISA, Master, JCB)</li>
               <li>Trả góp thẻ tín dụng 0%</li>
               <li>Thanh toán VNPAY</li>
               <li>Thanh toán bằng ví MoMo</li>
               <li>Quét mã QR</li>
               <li>Thanh toán Zalopay - QR đa năng</li>
            </ul>
         </div>
         
         <div class="certifications mt-4">
            <h3 class="footer_heading">CHỨNG NHẬN</h3>
            <div class="cert_icons">
               <a href="/Chungnhan.html" class="cert-image-link">
                   <img src="./images/footer-logo.png" alt="Chứng nhận" class="cert-image">
               </a>
           </div>
         </div>
         
         <div class="contact_info mt-4">
            <p>© 2024 Công Ty Cổ Phần Vàng Bạc Đá Quý Lustro Silver</p>
            <p>180 Nguyễn Gia Trí, P.25, Bình Thạnh, TP.HCM</p>
            <p>ĐT: 090 910 8935 - Fax: 0899 368 935</p>
            <p>Giấy chứng nhận đăng ký doanh nghiệp: 0300521758 do Sở KH & ĐT TP.HCM cấp lần đầu ngày 02/01/2004. Ngành, nghề kinh doanh.</p>
         </div>
      </div>
   </div>
      <!-- footer section end -->
      <!-- copyright section start -->
      <!-- <div class="copyright_section">
         <div class="container">
            <p class="copyright_text">2020 All Rights Reserved. Design by <a href="https://html.design">LUSTRO SILVER</a></p>
         </div>
      </div> -->
      <!-- copyright section end -->
      <!-- Javascript files-->
      <script src="js/jquery.min.js"></script>
      <script src="js/popper.min.js"></script>
      <script src="js/bootstrap.bundle.min.js"></script>
      <script src="js/jquery-3.0.0.min.js"></script>
      <script src="js/plugin.js"></script>
      <!-- sidebar -->
      <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
      <script src="js/custom.js"></script>
      <!-- javascript --> 
      <script src="js/owl.carousel.js"></script>
      <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>  
      <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
      <script>
         function openNav() {
           document.getElementById("mySidenav").style.width = "100%";
         }
         
         function closeNav() {
           document.getElementById("mySidenav").style.width = "0";
         }
         // Retrieve the product details from local storage
        const product = JSON.parse(localStorage.getItem('buyNowProduct'));

        if (product) {
            const productDetailsDiv = document.getElementById('productDetails');
            productDetailsDiv.innerHTML = `
                <h2>${product.name}</h2>
                <img src="${product.image}" alt="${product.name}" style="width: 100px; height: auto;">
                <p>Price: $${product.price}</p>
                <p>Quantity: ${product.quantity}</p>
            `;
        } else {
            document.getElementById('productDetails').innerText = 'No product selected.';
        }

        // Handle form submission
        document.getElementById('paymentForm').addEventListener('submit', function(event) {
            event.preventDefault();
            alert('Payment processed for ' + product.name);
            // Here you would typically send the payment details to your server
        });

        function buyNow(productName, price, imageUrl) {
         // Clear existing items in checkout
         localStorage.removeItem('checkoutItems');
     
         // Create a new item for the selected product
         const selectedItem = {
             name: productName,
             price: price,
             image: imageUrl
         };
     
         // Store the selected item in localStorage
         localStorage.setItem('checkoutItems', JSON.stringify([selectedItem]));
     
         // Redirect to checkout page
         window.location.href = 'checkout.html';
     }
     document.addEventListener('DOMContentLoaded', function() {
      const product = JSON.parse(localStorage.getItem('buyNowProduct'));
      if (product) {
         const checkoutItems = document.getElementById('checkoutItems');
         const itemElement = document.createElement('div');
         itemElement.innerHTML = `
            <img src="${product.image}" alt="${product.name}" style="width: 100px; height: 100px;">
            <div>${product.name}</div>
            <div>Price: $${product.price}</div>
            <div>Quantity: ${product.quantity}</div>
         `;
         checkoutItems.appendChild(itemElement);
      }
   });
      </script> 
      
   </body>
</html>
